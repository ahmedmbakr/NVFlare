{
  "format_version": 2,
  "datasetpath": "../../../data",
  "num_classes": 3,
  "batch_size": 6,
  "num_workers_dl": 4,
  "valid_detection_threshold": 0.5,
  "executors": [
    {
      "tasks": ["train", "submit_model", "validate"],
      "executor": {
        "id": "Executor",
        "path": "nvflare.app_common.executors.model_learner_executor.ModelLearnerExecutor",
        "args": {
            "learner_id": "parkingFL-learner"
        }
      }
    }
  ],
  "components": [
    {
      "id": "parkingFL-learner",
      "path": "parkingFL_trainer.ParkingFL_Trainer",
      "args": {
          "data_path": "{datasetpath}",
          "lr": 0.001,
          "fedproxloss_mu": 1e-5,
          "epochs": 1,
          "num_classes": "{num_classes}",
          "batch_size": "{batch_size}",
          "num_workers_dl": "{num_workers_dl}",
          "valid_detection_threshold": "{valid_detection_threshold}"
        }
    }
  ],
  "task_result_filters": [
    {
      "tasks": ["train"],
      "filters":[
          {
          "name": "HEModelEncryptor",
          "args": {
            "weigh_by_local_iter": true
          }
        }
      ]
    },
    {
      "tasks": ["submit_model"],
      "filters":[
          {
          "name": "HEModelEncryptor",
          "args": {
            "weigh_by_local_iter": false
          }
        }
      ]
    }
  ],
  "task_data_filters": [
    {
      "tasks": ["train", "validate"],
      "filters":[
          {
          "name": "HEModelDecryptor",
          "args": {
          }
        }
      ]
    }
  ]
}
